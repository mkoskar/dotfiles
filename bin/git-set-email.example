#!/usr/bin/env bash

set -eu

if (( $# )); then
    email=$1
else
    PS3='Select: '
    emails=(
        email1
        email2
    )
    select email in "${emails[@]}"; do
        break
    done
fi

git config set user.email "$email"

git config unset commit.gpgSign || true
confirm 'Set commit.gpgSign?' n &&
    git config set commit.gpgSign true

git config unset tag.gpgSign || true
confirm 'Set tag.gpgSign?' n &&
    git config set tag.gpgSign true

exit 0
